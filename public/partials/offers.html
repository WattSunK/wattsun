<!-- /partials/offers.html -->
<section id="loyalty" aria-label="Staff Loyalty">
  <h2 class="ws-title">Staff Loyalty</h2>

  <!-- Summary -->
  <div class="ws-card" id="accountCard">
    <div style="display:flex;flex-wrap:wrap;gap:12px;">
      <div style="flex:1 1 260px;min-width:260px;">
        <h3>Balance</h3>
        <div style="font-size:28px;font-weight:700;"><span id="pointsBalance">—</span> pts</div>
        <div class="muted" id="eurBalance">€—</div>
      </div>
      <div style="flex:1 1 260px;min-width:260px;">
        <h3>Status</h3>
        <div><span id="statusTag" class="pill">—</span></div>
        <div class="muted" id="dateInfo" style="margin-top:6px;">Start — • Eligible — • End —</div>
      </div>
      <div style="flex:1 1 260px;min-width:260px;">
        <h3>Actions</h3>
        <div class="muted" id="minInfo">Minimum withdrawal: — pts</div>
        <div style="margin-top:8px;">
          <button id="enrollBtn" class="ws-btn ws-btn-yellow">Enroll</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Withdraw -->
  <div class="ws-card" id="withdrawCard" style="display:none;">
    <h3>Withdraw</h3>
    <p class="muted" id="withdrawHelp">You can withdraw points (min shown above) at €1/pt.</p>
    <div style="display:flex;flex-wrap:wrap;gap:12px;align-items:flex-end;">
      <div style="min-width:220px;">
        <label class="muted" for="withdrawPoints">Points</label><br/>
        <input id="withdrawPoints" class="ws-input" type="number" min="100" step="1" value="100" style="width:220px;" />
      </div>
      <div style="min-width:180px;">
        <div class="muted">Estimated payout</div>
        <div style="font-size:22px;font-weight:700;" id="estimateEUR">€100</div>
      </div>
      <div style="min-width:200px;">
        <button id="withdrawBtn" class="ws-btn ws-btn-yellow" disabled>Request Withdrawal</button>
      </div>
    </div>
    <div id="withdrawMsg" class="muted" style="margin-top:8px;"></div>
  </div>

  <!-- History -->
  <div class="ws-card" id="historyCard" style="display:none;">
    <h3>Withdrawal Requests</h3>
    <table class="ws-table" id="historyTable">
      <thead>
        <tr>
          <th>ID</th><th>Requested</th><th>Status</th>
          <th>Requested At</th><th>Decided</th><th>Paid</th><th>Reference</th>
        </tr>
      </thead>
      <tbody id="historyBody"><tr><td colspan="7">No withdrawals yet.</td></tr></tbody>
    </table>
  </div>

  <script defer src="/js/loyalty-offers.js"></script>
</section>
