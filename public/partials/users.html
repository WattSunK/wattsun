<div id="users-root" data-module="users">
  <section class="card">
    <div class="card-header card-header--tight">
      <h2 class="h2">Users</h2>
      <div class="spacer"></div>
      <button class="btn btn-primary" id="addUserBtn" data-users-action="open-create" type="button">+ Add User</button>
    </div>

    <div class="card-body">
      <div class="filters-bar" id="usersFilters">
        <div class="group">
          <label for="userType">Type</label>
          <select id="userType">
            <option value="">All Types</option>
            <option>Admin</option>
            <option>Driver</option>
            <option>Customer</option>
          </select>
        </div>

        <div class="group">
          <label for="usersStatus">Status</label>
          <select id="usersStatus">
            <option value="">All Status</option>
            <option>Active</option>
            <option>Inactive</option>
          </select>
        </div>

        <div class="group">
          <label for="usersSearch">Search</label>
          <input id="usersSearch" type="search" placeholder="Search by name/email/phone" aria-label="Search users" />
        </div>

        <div class="group per">
          <label for="per-users">Per page</label>
          <select id="per-users" aria-label="Per page">
            <option>10</option>
            <option>25</option>
            <option>50</option>
          </select>
        </div>

        <div class="spacer"></div>

        <div class="pager" id="users-pagination">
          <button class="btn" aria-label="Previous" id="prev-users-pagination" type="button">‹</button>
          <span class="page-indicator"><span id="page-users-pagination">Page 1 / 1</span></span>
          <button class="btn" aria-label="Next" id="next-users-pagination" type="button">›</button>
        </div>
      </div>

      <div class="table-wrap">
        <table class="table" id="usersTable">
          <thead>
            <tr>
              <th>SL No.</th>
              <th>Name</th>
              <th>Email</th>
              <th>Phone</th>
              <th>Type</th>
              <th>Orders</th>
              <th>Status</th>
              <th>Last Active</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="usersRows">
            <tr><td colspan="9" style="color:#6b7280;">(No data yet)</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
  
    <!-- Users Add/Edit Modal (same shell as Orders modal) -->
      <dialog id="users-modal" class="modal" aria-labelledby="usersModalTitle" aria-modal="true">
    <div class="modal-card">
      <header class="modal-header">
        <h3 id="usersModalTitle">User</h3>
        <!-- header close is handled by the Cancel button & ESC -->
      </header>

      <form id="usersForm" class="modal-body" method="dialog">
        <input type="hidden" id="userId" />

        <div class="row">
          <label for="userName">Name</label>
          <div>
            <input id="userName" type="text" class="input" placeholder="Full name" required />
          </div>
        </div>

        <div class="row">
          <label for="userEmail">Email</label>
          <div>
            <input id="userEmail" type="email" class="input" placeholder="email@example.com" required />
            <div class="field-error" id="err-userEmail" style="display:none;color:#b91c1c;"></div>
          </div>
        </div>

        <div class="row">
          <label for="userPhone">Phone</label>
          <div>
            <input id="userPhone" type="tel" class="input" placeholder="+2547..." />
          </div>
        </div>

        <div class="row">
          <label for="userTypeField">Type</label>
          <div>
            <select id="userTypeField" class="input" required>
              <option value="Admin">Admin</option>
              <option value="Driver">Driver</option>
              <option value="Customer">Customer</option>
              <option value="User">User</option>
              <option value="__custom__">Custom…</option>
            </select>
            <input id="userTypeCustom" class="input" type="text" placeholder="Enter a new type"
            style="display:none;margin-top:.5rem;" />
          </div>
        </div>

        <div class="row">
          <label for="userStatusField">Status</label>
          <div>
            <select id="userStatusField" class="input" required>
              <option value="Active">Active</option>
              <option value="Inactive">Inactive</option>
            </select>
          </div>
        </div>

        <div class="row" id="resetEmailRow">
          <label> </label>
          <div>
            <label class="checkbox">
              <input id="sendResetEmail" type="checkbox" checked />
              <span>Send password reset email on save</span>
            </label>
          </div>
        </div>
      </form>

      <footer class="modal-footer">
        <button type="button" class="btn ghost" id="usersModalCancel">Cancel</button>
        <button type="button" class="btn primary" id="usersModalSave">Save</button>
      </footer>
    </div>
  </dialog>
</div>
